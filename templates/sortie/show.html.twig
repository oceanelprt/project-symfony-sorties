{% extends 'base.html.twig' %}

{% block title %}Sortie{% endblock %}

{% block body %}
    {% include 'icon-back.html.twig' %}

    <h1>Sortie</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Nom</th>
                <td>{{ sortie.nom }}</td>
            </tr>
            <tr>
                <th>Etat</th>
                <td>{{ sortie.etat }}</td>
            </tr>
            {% if sortie.etat == 'Annulé' %}
                <tr>
                    <th>Motif d'annulation</th>
                    <td>{{ sortie.motifAnnulation }}</td>
                </tr>
            {% endif %}
            <tr>
                <th>Durée</th>
                <td>{{ sortie.duree }}</td>
            </tr>
            <tr>
                <th>Date</th>
                <td>{{ sortie.date ? sortie.date|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Date de cloture</th>
                <td>{{ sortie.dateCloture ? sortie.dateCloture|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Nombre de places</th>
                <td>{{ sortie.nombrePlaces }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ sortie.description }}</td>
            </tr>
            <tr>
                <th>Créateur</th>
                <td>{{ sortie.createur.pseudo }} ({{ sortie.createur.prenom }} {{ sortie.createur.nom }})</td>
            </tr>
            <tr>
                <th>Participants</th>
                <td>
                    {% if sortie.participants|length == 0 %}
                        <p>Aucun participant</p>
                    {% else %}
                        <ul>
                            {% for participant in sortie.participants %}
                                <li><a href="{{ path('utilisateur_info', {'utilisateur': participant.id}) }}">{{ participant.prenom }} {{ participant.nom }}</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>
{% endblock %}
